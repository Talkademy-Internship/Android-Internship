<div dir="rtl" align='right'>

یکی از اصلی‌ترین و مهم‌ترین کارهایی که یک اپلیکیشن موبایل آنلاین باید انجام دهد، برقراری ارتباط با سرور است. به این ترتیب برنامه می‌تواند داده‌ها را از کاربر گرفته، آن‌ها در سرور پردازش کرده و نتایج را به کاربر برگرداند. امروزه بیشتر اپلیکیشن‌های موبایل نیاز به برقراری ارتباط با سرور دارند و بدون شک این بخش از حساسیت بسیار بالایی برخوردار است.

پیاده سازی قابلیت ارتباط بین سرور و اپلیکیشن به روش دستی و نوشتن کامل کدها بسیار پیچیده و زمان‌گیر بوده و همواره می‌بایست پارامترهای متعددی مانند ساخت کانکشن، ارسال مجدد درخواست‌های ناموفق، تردها (Thread)، ارورها، Parse (تجزیه) کردن پاسخ و…را خودمان هندل (مدیریت) کنیم. بنابراین بهتر است سراغ کتابخانه‌هایی برویم که توسط شرکت‌های معتبر منتشر و پشتیبانی می‌شوند. کتابخانه Retrofit یکی از این کتابخانه هاست. Retrofit  توسط شرکت Square پشتیبانی می‌شود.



- Retrofit یک HTTP client امن برای جاوا و اندروید است که به واسطه آن، ارتباط از نوع HTTP بین سرور و کلاینت (اپلیکیشن) برقرار می‌شود. در واقع از رتروفیت برای اتصال به وب سرویس از طریق HTTP Connection استفاده می‌شود.کتابخانه Volley (والی) را می‌توان به عنوان رقیب اصلی Retrofit معرفی کرد. والی توسط گوگل پشتیبانی می‌شود. در حال حاضر Retrofit به دلیل مزایایی که نسبت به Volley دارد در بین توسعه دهندگان اندروید سهم بیشتری را به خود اختصاص داده. مدتی از ارائه نسخه ۲ کتابخانه Retrofit می‌گذرد که نسبت به نسخه ۱ تغییرات گسترده ای به همراه داشته که علاوه بر سهولت بیشتر در پیاده سازی نسبت به نسخه قبل، امکانات جدیدی نیز در اختیار توسعه دهنده قرار می‌دهد. 

قبل از شروع کار با Retrofit ، بدانید که در اندروید از فرمت JSON برای تبادل داده بین وب سرویس و کلاینت (دیوایس کاربر) استفاده می‌شود. البته استفاده از فرمت‌ XML نیز امکان‌پذیر است اما دلایل متعددی وجود دارد که توسعه دهندگان را ترغیب به استفاده از JSON می‌کند.

-  JSON (مخفف Javascript Object Notation) (تلفظ: جِی‌سُن یا جِی‌سان) یک فرمت بسیار سبُک و ساده برای ذخیره و تبادل اطلاعات است که خواندن و نوشتن آن برای انسان و تولید و Parse (تجزیه) کردن آن برای ماشین‌ها آسان است. JSON بصورت text (متنی) بوده و مستقل از زبان‌های برنامه نویسی است. یعنی تفاوتی نمی‌کند اپلیکیشن اندرویدی ما یا وب سرویسی که قرار است به این اپلیکیشن متصل شود و داده ارسال و دریافت کند، با چه زبان‌های نوشته شده اند زیرا تمام زبان‌های برنامه نویسی روز دنیا مانند Java، PHP، C#، Python و… از JSON پشتیبانی می‌کنند. 
در گذشته برای تبادل اطلاعات از فرمت XML استفاده می‌شد که با معرفی فرمت JSON توسط Douglas Crockford در سال ۲۰۰۰، نظر اکثر برنامه نویسان را به خود جلب کرد. 


- Retrofit Gson Converter خود از کتابخانه Gson گوگل استفاده می‌کند. وظیفه این کتابخانه تبدیل داده‌های Java به Json و بلعکس است. Retrofit اطلاعاتی که می‌بایست از به سرور ارسال شود را در فرمت Java به کتابخانه Gson Converter ‌می‌فرستد. سپس Gson Converter اطلاعات را به فرمت JSON تبدیل کرده و به سرور ارسال می‌کند. همینطور اطلاعاتی که باید از سرور به دیوایس ارسال شود ابتدا با فرمت JSON به Gson Converter می‌رسد. این کتابخانه اطلاعات را از JSON به Java تبدیل کرده و به Retrofit انتقال می‌دهد. 
     

- Retrofit برای لایه شبکه از کتابخانه Okhttp استفاده می‌کند که این کتابخانه هم توسط Square منتشر شده است. این کتابخانه یا لایبرری یکی از معروف ترین کتابخانه ها اندروید برای اتصال به اینترنت و رد و بدل اطلاعات از طریق پروتکل http/https است که تقریبا تمامی اپلیکیشن هایی که برای اجرا نیاز به اینترنت دارن و یا رد و بدل اطلاعات از اینترنت درون آنها انجام می شود از این کتابخانه برای انجام این کار استفاده می کنند . 



برای آشنایی با نحوه پیاده سازی کتابخانه Retrofit ، لینک های زیر را مطالعه نمایید:

https://square.github.io/retrofit

https://medium.com/@prakash_pun/retrofit-a-simple-android-tutorial-48437e4e5a23



برای آشنایی با جزئیات بیشتر میتونید لینک زیر را هم مطالعه کنید:

https://www.vogella.com/tutorials/Retrofit/article.html



</div>